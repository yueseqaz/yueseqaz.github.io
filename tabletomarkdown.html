<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown Table Generator</title>
    <style>
        :root {
            --sf-font: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Helvetica Neue', sans-serif;
            --primary-color: #007AFF;
            --background-color: #F5F5F7;
            --card-background: #FFFFFF;
            --text-primary: #1D1D1F;
            --border-color: #E5E5E7;
            --button-hover: #0051FF;
        }

        body { font-family: var(--sf-font); background: var(--background-color); padding: 20px; }
        .container { max-width: 900px; margin: auto; background: var(--card-background); padding: 20px; border-radius: 10px; }
        .editable-table { width: 100%; border-collapse: collapse; margin-bottom: 10px; }
        .editable-table th, .editable-table td { border: 1px solid var(--border-color); padding: 8px; text-align: center; }
        .editable-table input { width: 100%; border: none; text-align: center; font-size: 15px; padding: 4px; }
        .btn { margin: 5px; padding: 6px 12px; border: none; background: var(--primary-color); color: white; cursor: pointer; border-radius: 6px; }
        .btn:hover { background: var(--button-hover); }
        .markdown-output { white-space: pre-wrap; background: #F8F8F8; padding: 15px; border-radius: 8px; font-family: monospace; margin-top: 10px; }
    </style>
</head>
<body>

<div class="container">
    <h2>Markdown Table Generator</h2>
    <table class="editable-table">
        <thead id="tableHead"></thead>
        <tbody id="tableBody"></tbody>
    </table>

    <button class="btn" onclick="addRow()">‚ûï Ê∑ªÂä†Ë°å</button>
    <button class="btn" onclick="deleteRow()">‚ùå Âà†Èô§Ë°å</button>
    <button class="btn" onclick="addColumn()">‚ûï Ê∑ªÂä†Âàó</button>
    <button class="btn" onclick="deleteColumn()">‚ùå Âà†Èô§Âàó</button>
    <button class="btn" onclick="generateMarkdown()">üìù ÁîüÊàê Markdown</button>

    <div class="markdown-output" id="markdownContent"></div>
    <button class="btn" onclick="copyMarkdown()">üìã Â§çÂà∂ Markdown</button>
</div>

<script>
    function initTable(cols = 3, rows = 3) {
        const thead = document.getElementById('tableHead');
        const tbody = document.getElementById('tableBody');

        thead.innerHTML = '<tr>' + '<th><input type="text" placeholder="Ê†áÈ¢ò"></th>'.repeat(cols) + '</tr>';
        tbody.innerHTML = Array.from({ length: rows }).map(() => 
            '<tr>' + '<td><input type="text" placeholder="ÂÜÖÂÆπ"></td>'.repeat(cols) + '</tr>'
        ).join('');
    }

    function addRow() {
        const tbody = document.getElementById('tableBody');
        const cols = document.querySelectorAll('#tableHead th').length;
        let newRow = document.createElement('tr');

        for (let i = 0; i < cols; i++) {
            let cell = document.createElement('td');
            cell.innerHTML = '<input type="text" placeholder="ÂÜÖÂÆπ">';
            newRow.appendChild(cell);
        }

        tbody.appendChild(newRow);
    }

    function deleteRow() {
        const tbody = document.getElementById('tableBody');
        if (tbody.rows.length > 1) tbody.deleteRow(-1);
    }

    function addColumn() {
        const thead = document.getElementById('tableHead').rows[0];
        let th = document.createElement('th');
        th.innerHTML = '<input type="text" placeholder="Ê†áÈ¢ò">';
        thead.appendChild(th);

        const tbody = document.getElementById('tableBody').rows;
        for (let row of tbody) {
            let td = document.createElement('td');
            td.innerHTML = '<input type="text" placeholder="ÂÜÖÂÆπ">';
            row.appendChild(td);
        }
    }

    function deleteColumn() {
        const thead = document.getElementById('tableHead').rows[0];
        if (thead.cells.length > 1) thead.deleteCell(-1);

        const tbody = document.getElementById('tableBody').rows;
        for (let row of tbody) {
            if (row.cells.length > 1) row.deleteCell(-1);
        }
    }

    function generateMarkdown() {
        const headers = Array.from(document.querySelectorAll('#tableHead input'))
                            .map(input => input.value.trim() || ' ');

        const rows = Array.from(document.querySelectorAll('#tableBody tr')).map(row => 
            Array.from(row.querySelectorAll('input')).map(input => input.value.trim() || ' ')
        );

        let md = '| ' + headers.join(' | ') + ' |\n';
        md += '|' + headers.map(() => '---').join('|') + '|\n';
        
        rows.forEach(row => {
            md += '| ' + row.join(' | ') + ' |\n';
        });

        document.getElementById('markdownContent').innerText = md;
    }

    function copyMarkdown() {
        const text = document.getElementById('markdownContent').innerText;
        navigator.clipboard.writeText(text);
        alert('Markdown ‰ª£Á†ÅÂ∑≤Â§çÂà∂ÔºÅ');
    }

    document.addEventListener('DOMContentLoaded', () => initTable());
</script>

</body>
</html>